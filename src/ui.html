<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>[BIG DATA]</title>

        <!-- Load main css -->
        <link rel="stylesheet" href="assets/css/main.css" />
        <link rel="stylesheet" href="assets/css/boot_screen.css" />
        <!-- Load main modules css -->
        <link rel="stylesheet" href="assets/css/main_shell.css" />
        <link rel="stylesheet" href="assets/css/keyboard.css" />
        <!-- Load secondary modules css -->
        <link rel="stylesheet" href="assets/css/mod_column.css" />
        <link rel="stylesheet" href="assets/css/mod_clock.css" />
        <link rel="stylesheet" href="assets/css/extra_ratios.css" />
        <!-- Load custom chat css -->
        <link rel="stylesheet" href="assets/css/terminal.css" />
        <link rel="stylesheet" href="assets/css/chat.css" />
        <link rel="stylesheet" href="assets/css/chat_sci_fi.css" />
        <link rel="stylesheet" href="assets/css/chatbot_layout.css" />
        <!-- Load component css -->
        <link rel="stylesheet" href="css/components.css" />

        <!-- Load classes -->
        <script type="module" src="classes/chat.class.js"></script>
        <script type="module" src="classes/session.class.js"></script>
        <script type="module" src="classes/widget.class.js"></script>
        <script type="module" src="classes/sysinfo.widget.js"></script>
        <script type="module" src="classes/processlist.widget.js"></script>
        <script type="module" src="classes/widgetmanager.class.js"></script>
        <script type="module" src="classes/collaboration.class.js"></script>
        <!-- Load React and ReactDOM locally -->
        <script crossorigin src="../lib/react.production.min.js"></script>
        <script crossorigin src="../lib/react-dom.production.min.js"></script>
        <!-- Prism.js for syntax highlighting (loaded globally for fallback mode) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
        <script type="module" src="utils/markdown.js"></script>
        
        <!-- Load component managers -->
        <script src="js/components/partialLoader.js"></script>
        <script src="js/components/modalManager.js"></script>
        <script src="js/main.js"></script>
        
        <!-- Debug script to check React loading -->
        <script>
            function checkReactLoading() {
                console.log("=== React Loading Check ===");
                console.log("React available:", typeof React !== 'undefined');
                console.log("ReactDOM available:", typeof ReactDOM !== 'undefined');
                console.log("window.React:", typeof window.React);
                console.log("window.ReactDOM:", typeof window.ReactDOM);
                console.log("==========================");
            }
            
            // Check immediately
            setTimeout(checkReactLoading, 1000);
            
            // Check after a delay
            setTimeout(checkReactLoading, 3000);
        </script>
    </head>
    <body class="solidBackground">
        <section id="boot_screen">
        </section>

        <!-- Modern Chatbot Layout -->
        <div id="app_container" style="display: none;">
            <!-- Status Header -->
            <header id="status_header">
                <!-- Header will be loaded dynamically -->
            </header>

            <!-- Main Layout Container -->
            <div id="main_layout">
                <!-- Sidebar -->
                <aside id="sidebar">
                    <!-- Sidebar will be loaded dynamically -->
                </aside>

                <!-- Chat Feed -->
                <main id="chat_main">
                    <!-- Chat main will be loaded dynamically -->
                </main>

                <!-- System Panels -->
                <aside id="system_panels">
                    <!-- Widgets will be dynamically added here -->
                </aside>
            </div>

            <!-- Floating Input Dock -->
            <div id="input_dock">
                <!-- Input dock will be loaded dynamically -->
            </div>
        </div>

        <!-- Demo section (hidden by default) -->
        <div id="demo_section" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.9); padding: 20px; border-radius: 10px; z-index: 1000;">
            <h3>Demo Controls</h3>
            <button id="demo-btn" class="neon_button">Test Demo</button>
            <button id="notification-btn" class="neon_button">Test Notification</button>
            <div id="message" class="message" style="margin-top: 10px;"></div>
            <div style="margin-top: 10px;">
                <span>Electron: <span id="electron-version">Loading...</span></span><br>
                <span>Node: <span id="node-version">Loading...</span></span><br>
                <span>Chrome: <span id="chrome-version">Loading...</span></span>
            </div>
            <button onclick="document.getElementById('demo_section').style.display='none'" style="margin-top: 10px;">Close</button>
        </div>

        <!-- Renderer script -->
        <script type="module" src="../renderer.js"></script>
        
        <!-- Debug script to check React loading -->
        <script>
            function checkReactLoading() {
                console.log("=== React Loading Check ===");
                console.log("React available:", typeof React !== 'undefined');
                console.log("ReactDOM available:", typeof ReactDOM !== 'undefined');
                console.log("window.React:", typeof window.React);
                console.log("window.ReactDOM:", typeof window.ReactDOM);
                console.log("==========================");
            }
            
            // Check immediately
            setTimeout(checkReactLoading, 1000);
            
            // Check after a delay
            setTimeout(checkReactLoading, 3000);
        </script>
        
        <!-- Load SettingsBridge after all other scripts -->
        <script src="components/SettingsBridge.js"></script>
        
        <!-- Initialize SettingsBridge after all scripts are loaded -->
        <script>
            // Wait for all scripts to load before initializing SettingsBridge
            window.addEventListener('load', function() {
                console.log('Window loaded, initializing SettingsBridge');
                setTimeout(() => {
                    if (window.SettingsBridge) {
                        window.SettingsBridge.init();
                    } else {
                        console.error('SettingsBridge not found');
                    }
                }, 1000);
            });
        </script>
    </body>
</html>